---
import BaseLayout from "@layouts/BaseLayout.astro";
import CTA from "@components/CTA.astro";
import FAQ from "@components/FAQ.astro";
import "../styles/global.css";
import { Image, Picture } from "astro:assets";
import landingImage from "@assets/images/logo.png";
import landingImage2 from "@assets/images/merit-images/merit-0318.jpg";
import aboutImg1 from "@assets/images/merit-images/merit-0290.jpg";
import aboutImg2 from "@assets/images/merit-images/merit-0314.jpg";
import { getImage } from "astro:assets";
import ApplicationLogosCarousel from "@components/ApplicationLogosCarousel.astro";
import ButtonLink from "@components/Ui/ButtonLink.astro";
import { ServiceCards } from "@components/ServiceCards";
import TrustBadgeSection from "@components/TrustBadge/TrustBadgeSection.astro";

import BlazeSlider from "blaze-slider";
import "blaze-slider/dist/blaze.css";

// Reviews data
const reviews = [
  {
    text: "If I could give Sharan and her team 10 stars, I would!!! With impossible timelines due to many hiccups on our end, they were able to get our order done perfectly, on time, and at less cost than expected. Everyone at Merit was great to work with, incredibly responsive, respectful, professional and just, well, lovely. We can't thank them enough (!!!!) for helping our choir shine in their new shirts on their Tuscany Tour. DO HIGHLY RECOMMEND and we will definitely call them for our next project!",
    name: "Lisa Leflar",
  },
  {
    text: "Always have a fantastic experience at Merit Embroidery! The attention to detail in their work is impressive, and the staff is friendly and helpful. They always complete my order promptly, and the final product exceeds my expectations. I highly recommend for all your embroidery/printing needs!",
    name: "Mitch W",
  },
  {
    text: "We have used this company for many years! Not only are they amazing at what they do… and prices great.. the staff is so nice and absolutely amazing to deal with :) 110% recommend them!! :)",
    name: "Ashley R",
  },
];

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
const optimizedImage = await getImage({ src: landingImage, format: "avif" });
---

<BaseLayout
  title="Merit Embroidery | Edmonton Embroidery, Screen Printing & Custom Apparel"
  description="High-quality in-house embroidery, screen printing, and custom apparel decoration in Edmonton. Serving businesses across Alberta and North America with fast, reliable, and professional service."
  preloadedImage={optimizedImage}
>
  <!-- ============================================ -->
  <!--                    Hero                      -->
  <!-- ============================================ -->

  <section id="hero" class="hero-gradient m-0 w-full p-0">
    <div
      class="flex size-full h-[50dvh] max-h-145 flex-col items-center justify-center p-0 sm:flex-row lg:h-[calc(100dvh-6.6875rem)] lg:max-h-full"
    >
      <div class="hidden size-full items-center justify-center xl:flex">
        <Image
          src={landingImage}
          alt="embroidery machines"
          loading="eager"
          fetchpriority="high"
          class="flex size-full h-auto max-w-150 items-center justify-start object-cover"
        />
      </div>
      <div class="relative grid size-full max-h-[inherit]">
        <!-- class:list={[
            "absolute right-0 bottom-0 left-0 flex flex-col items-center gap-3 p-4 backdrop-blur-md [grid-area:1/1]",
            "lg:top-0 lg:right-auto lg:bottom-auto lg:left-0 lg:max-w-xl lg:-translate-1/2 lg:items-start",
            "lg:corner-squircle lg:rounded-2xl supports-[corner-shape:squircle]:lg:rounded-4xl",
          ]} -->
        <div
          class:list={[
            "absolute top-1/2 left-1/2 flex -translate-1/2 flex-col items-center gap-3 p-4 backdrop-blur-md [grid-area:1/1]",
            "lg:left-0 lg:max-w-xl lg:translate-x-0 lg:items-start",
            "lg:corner-squircle lg:rounded-2xl supports-[corner-shape:squircle]:lg:rounded-4xl",
          ]}
        >
          <h1 class="cs-title m-0 text-center text-white lg:text-left">
            Your Trusted Promotional Decorators!
          </h1>
          <p
            class="m-0 text-center text-xl font-bold text-white/90 md:text-2xl lg:text-left"
          >
            Quality, Delivery, Service, Innovation
          </p>
          <ButtonLink href="/get-a-quote" class={"mt-6"}>
            Get A Quote
          </ButtonLink>
        </div>
      </div>
    </div>
  </section>

  <TrustBadgeSection />

  <div class="bg-accent-light relative p-0 pb-24">
    <div
      class="corner-squircle bg-accent-dark absolute inset-0 z-1 mx-[min(4rem,95%)] mb-[min(1rem,95%)] rounded-t-[400px] rounded-b-[100px] supports-[corner-shape:squircle]:rounded-t-[800px] supports-[corner-shape:squircle]:rounded-b-[150px]"
    >
    </div>
    <!-- ============================================ -->
    <!--                   Services                   -->
    <!-- ============================================ -->
    <ServiceCards className="z-2" client:visible />
    <!-- ============================================ -->
    <!--                   Gallery                    -->
    <!-- ============================================ -->
    <ApplicationLogosCarousel class="z-2" />
  </div>

  <!-- ============================================ -->
  <!--                 About Us                     -->
  <!-- ============================================ -->

  <section id="sbs" class="bg-accent-light">
    <div class="cs-container">
      <!-- Left Image Section -->
      <div class="cs-left">
        <!-- <Picture
          src={aboutImg1}
          formats={["avif", "webp"]}
          pictureAttributes={{
            class:
              "cs-picture cs-picture1 corner-squircle rounded-lg supports-[corner-shape:squircle]:rounded-3xl",
          }}
          alt="leather embroidered cap"
        /> -->

        <Picture
          src={aboutImg2}
          formats={["avif", "webp"]}
          pictureAttributes={{
            class:
              "size-full cs-picture cs-picture2 corner-squircle rounded-lg supports-[corner-shape:squircle]:rounded-3xl",
          }}
          alt="lazered cap with text elephanty and elephant logo"
        />
      </div>
      <!-- Right Content Section-->
      <div class="cs-right">
        <span class="cs-topper text-topper font-semibold tracking-wider"
          >About Us</span
        >
        <h2 class="cs-title text-body-light text-6xl font-semibold">
          About Merit Embroidery
        </h2>
        <p class="cs-text text-body-light text-lg leading-7">
          Merit Embroidery is one of the largest wholesale embroidery houses in
          Western Canada. We have been in the business of apparel decorating for
          over 20 years serving customers in the local Alberta market as well as
          all across North America.
        </p>
        <p class="cs-text text-body-light text-lg leading-7">
          Our extensive experience in the garment decorating field along with
          our state of the art machinery allows us to be one of the best in the
          west. Our 4,600 square feet production facility and warehouse caters
          to all our small or high volume clients, delivering between 1,000 and
          2,000 decorated goods daily!
        </p>
        <ButtonLink href="/about"> More About Us </ButtonLink>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!--                    FAQ                       -->
  <!-- ============================================ -->
  <FAQ />

  <!-- ============================================ -->
  <!--                  Reviews                     -->
  <!-- ============================================ -->
  <section id="reviews-section">
    <div class="reviews-container">
      <!-- Header -->
      <div class="reviews-header">
        <span class="reviews-subtitle">Client Testimonials</span>
        <h2 class="cs-title text-accent-primary">What Our Clients Say</h2>
      </div>

      <!-- Desktop: 3-column grid -->
      <div class="reviews-grid">
        {
          reviews.map((review) => (
            <div class="review-card">
              <div class="flex justify-end text-2xl text-yellow-400">★★★★★</div>
              <div class="quote-icon">
                <svg viewBox="0 0 24 24">
                  <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                </svg>
              </div>
              <p class="review-text text-black">"{review.text}"</p>
              <p class="review-name">— {review.name}</p>
              <div class="flex justify-end text-2xl text-yellow-400">
                <img
                  src="/assets/images/google-icon.webp"
                  alt="google icon"
                  class="inline-block h-5 w-5"
                />
              </div>
            </div>
          ))
        }
      </div>

      <!-- Mobile Slider -->
      <div class="reviews-slider-wrapper">
        <div class="blaze-slider" id="reviews-blaze">
          <div class="blaze-container">
            <div class="blaze-track-container">
              <div class="blaze-track">
                {
                  reviews.map((review) => (
                    <div class="blaze-slide">
                      <div class="review-card">
                        <div class="flex justify-end text-2xl text-yellow-400">
                          ★★★★★
                        </div>
                        <div class="quote-icon">
                          <svg viewBox="0 0 24 24">
                            <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                          </svg>
                        </div>
                        <p class="review-text">"{review.text}"</p>
                        <p class="review-name">— {review.name}</p>
                        <div class="flex justify-end text-2xl text-yellow-400">
                          <img
                            src="/assets/images/google-icon.webp"
                            alt="google icon"
                            class="inline-block h-5 w-5"
                          />
                        </div>
                      </div>
                    </div>
                  ))
                }
              </div>
            </div>
          </div>

          <div class="slider-controls">
            <button class="blaze-prev">
              <img src="../assets/images/back.png" alt="Previous" />
            </button>

            <div class="blaze-pagination"></div>

            <button class="blaze-next">
              <img src="../assets/images/next.png" alt="Next" />
            </button>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div class="reviews-cta">
        <ButtonLink
          href="https://www.google.com/maps/place/Merit+Embroidery+%26+Printing+Ltd./@53.512899,-113.4059598,17z/data=!4m18!1m9!3m8!1s0x53a0186ce841d67d:0x43c318ffd01724a5!2sMerit+Embroidery+%26+Printing+Ltd.!8m2!3d53.512899!4d-113.4033849!9m1!1b1!16s%2Fg%2F1trrcwgv!3m7!1s0x53a0186ce841d67d:0x43c318ffd01724a5!8m2!3d53.512899!4d-113.4033849!9m1!1b1!16s%2Fg%2F1trrcwgv?entry=ttu&g_ep=EgoyMDI1MTAyMi4wIKXMDSoASAFQAw%3D%3D"
          target="_blank"
          rel="noopener noreferrer"
          class={"py-0 rounded-full corner-shape"}
        >
          View More Reviews
        </ButtonLink>
      </div>
    </div>
  </section>

  <CTA />
</BaseLayout>

<style lang="less">
  /* Hero Gradient Background */
  .hero-gradient {
    background:
      radial-gradient(
        ellipse 80% 100% at 25% 50%,
        rgba(255, 255, 255, 0.5) 0%,
        rgba(180, 210, 255, 0.8) 5%,
        rgba(70, 130, 220, 0.6) 25%,
        rgba(30, 70, 160, 0.4) 45%,
        transparent 75%
      ),
      radial-gradient(
        ellipse 60% 80% at 20% 60%,
        rgba(255, 255, 255, 0.5) 0%,
        rgba(100, 160, 230, 0.3) 30%,
        transparent 60%
      ),
      linear-gradient(
        to right,
        #1e3a8a 0%,
        #1e40af 30%,
        var(--color-accent-light) 70%
      );

    // #1e3a8a 70%,
    background-color: var(--color-accent-light);
  }

  .trust-badges-section {
    background: linear-gradient(
      to right,
      #1e3a8a 0%,
      #1e40af 30%,
      var(--color-accent-light) 70%
    );

    // #1e3a8a 70%,
    background-color: var(--color-accent-light);
  }
  /* STYLES FOR ABOVE THE FOLD */

  /*-- -------------------------- -->
<---           Hero             -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #hero {
      font-family: "Roboto", "Arial", sans-serif;
      /* Centers button */
      text-align: center;
      /* changes on tablet */
      padding: 0 (16/16rem);
      padding-bottom: (100/16rem);
      position: relative;
      z-index: 1;
      /* prevents overflow from the lines extending past the screen width */
      overflow: hidden;

      .cs-picture {
        /* Background Image */
        width: 100%;
        height: 100%;
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        z-index: -2;

        &:before {
          /* Black Color Overlay */
          content: "";
          width: 100%;
          height: 100%;
          background: #000;
          opacity: 0.7;
          display: block;
          position: absolute;
          top: 0;
          left: 0;
          z-index: 1;
          /* prevents the cursor from interacting with it */
          pointer-events: none;
        }

        img {
          width: 100%;
          height: 100%;
          /* Makes image act like a background-image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-container {
        width: 100%;
        max-width: (1280/16em);
        margin: auto;
        /* we put the padding top and bottom on the container instead of #Hero so the pseudo element lines go to the top and bottom of the section */
        /* 144px - 280px - leaving extra space for the navigation */
        /* changes on tablet */
        padding: clamp(9em, 25.95vw, 17.5em) 0;
        position: relative;

        &:before {
          /* Left Line */
          content: "";
          width: 1px;
          height: 100%;
          background: -moz-linear-gradient(
            top,
            rgba(250, 251, 252, 0.5) 0%,
            rgba(250, 251, 252, 0) 100%
          ); /* FF3.6-15 */
          background: -webkit-linear-gradient(
            top,
            rgba(250, 251, 252, 0.5) 0%,
            rgba(250, 251, 252, 0) 100%
          ); /* Chrome10-25,Safari5.1-6 */
          opacity: 1;
          display: block;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-flex-group {
        width: 80vw;
        /* 464px - 562px */
        max-width: clamp(29em, 60vw, 65.125em);
        margin: auto;
        /* 60px - 220px */
        margin-bottom: clamp(3.75em, 15.5vw, 13.75em);
        box-sizing: border-box;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        flex-wrap: wrap;
      }

      .cs-topper {
        text-align: center;
        margin-bottom: (16/16rem);
        color: var(--primaryLight);
      }

      .cs-title {
        text-align: center;
        width: 100%;
        color: var(--bodyTextColorWhite);
      }

      .cs-text {
        text-align: center;
        /* 32px - 40px */
        margin: 0 auto clamp(2rem, 4vw, 2.5rem) 0;
        /* 40px - 48px */
        margin-bottom: clamp(2.5rem, 4vw, 3rem);
        color: var(--bodyTextColorWhite);
      }

      .cs-button-solid {
        line-height: clamp(2.875em, 5.5vw, 3.5em);
        height: initial;
        margin-bottom: calc(16 / 16 * 1rem);
      }

      .cs-button-transparent {
        font-size: (16/16rem);
        font-weight: 700;
        /* 46px - 56px */
        line-height: clamp(2.875em, 5.5vw, 3.5em);
        text-decoration: none;
        width: (180/16rem);
        /* 46px - 56px */
        height: clamp(2.875em, 5.5vw, 3.5em);
        margin: 0 (8/16rem);
        box-sizing: border-box;
        padding: 0;
        color: #fff;
        background-color: transparent;
        border: 1px solid var(--bodyTextColorWhite);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        position: relative;
        z-index: 1;

        &:before {
          content: "";
          background: #000;
          opacity: 1;
          display: block;
          position: absolute;
          /* so it sits on top of the border */
          top: -1px;
          right: -1px;
          bottom: -1px;
          left: -1px;
          z-index: -1;
          /* this is what creates the grow affect on hover */
          transform: scaleX(0);
          transition: transform 0.3s;
          transform-origin: left;
        }

        &:hover {
          &:before {
            transform: scaleX(1);
          }
        }

        .cs-img {
          margin-right: (12/16rem);
          display: block;
        }
      }
    }
  }

  /* Tablet - 768px */
  @media only screen and (min-width: 48em) {
    #hero {
      /* 32px - 40px */
      padding: 0 clamp(2em, 5vw, 2.5em);

      .cs-container {
        padding: clamp(7em, 27.95vw, 17.5em) 0 0 0;
        &:after {
          /* Right Line */
          content: "";
          width: 1px;
          height: 100%;
          background: -moz-linear-gradient(
            top,
            rgba(250, 251, 252, 0) 0%,
            rgba(250, 251, 252, 0.5) 100%
          ); /* FF3.6-15 */
          background: -webkit-linear-gradient(
            top,
            rgba(250, 251, 252, 0) 0%,
            rgba(250, 251, 252, 0.5) 100%
          ); /* Chrome10-25,Safari5.1-6 */
          opacity: 1;
          display: block;
          position: absolute;
          top: 0;
          right: 0;
        }
      }

      .cs-button-solid {
        margin-right: (20/16rem);
        margin-bottom: 0;
      }
    }
  }

  /* Desktop Parallax Effect - 1300px */
  // @media only screen and (min-width: 81.25em) {
  //   #hero {
  //     background: url("/assets/images/hero.jpg");
  //     background-position: center;
  //     background-size: cover;
  //     background-repeat: no-repeat;
  //     /* creates parallax effect on background image */
  //     background-attachment: fixed;
  //   }
  // }

  // /* Dark Mode */
  // @media only screen and (min-width: 0em) {
  //   body.dark-mode {
  //     #hero {
  //       .cs-background {
  //         &:before {
  //           opacity: 0.8;
  //         }
  //       }
  //     }
  //   }
  // }

  /*-- -------------------------- -->
<---          Services          -->
<--- -------------------------- -*/

  @media only screen and (min-width: 0em) {
    #services {
      margin-bottom: 32px;
      .title-banner {
        padding: 32px 16px;
        background: var(--primary);
        .cs-title {
          color: #fff;
          text-align: center;
          margin: 0;
        }
      }
      .container {
        scroll-margin-top: 100px;
        width: 100%;
        .left-right {
          display: flex;
          flex-direction: column;
          gap: 32px;
          .left {
            .content {
              width: 96%;
              margin: auto;

              .cs-title {
                color: var(--primary);
                font-size: 28px;
                font-weight: 700;
                margin: 16px 0;
              }
              .cs-text {
                margin-bottom: 32px;
              }
              ul {
                margin-bottom: 32px;
              }
            }
          }
          .right {
          }
        }
      }
    }
  }

  @media only screen and (min-width: 64em) {
    #services {
      .title-banner {
        .cs-title {
        }
      }
      .container {
        .left-right {
          flex-direction: row;
          .left {
            width: 45%;
            // min-width: 500px;
            margin: auto;
            .content {
              width: 80%;
              margin: auto;
              .cs-title {
              }
              .cs-text {
              }
            }
          }
          .right {
            width: 55%;
          }
        }
      }
    }
  }
  // reverse
  @media only screen and (min-width: 0em) {
    #services-reverse {
      margin-bottom: 32px;
      .title-banner {
        padding: 32px 16px;
        background: var(--primary);
        .cs-title {
          color: #fff;
          text-align: center;
          margin: 0;
        }
      }
      .container {
        scroll-margin-top: 100px;
        width: 100%;
        .left-right {
          display: flex;
          flex-direction: column;
          gap: 32px;
          .left {
            .content {
              width: 96%;
              margin: auto;

              .cs-title {
                color: var(--primary);
                font-size: 28px;
                font-weight: 700;
                margin: 16px 0;
              }
              .cs-text {
                margin-bottom: 32px;
              }
            }
          }
          .right {
          }
        }
      }
    }
  }

  @media only screen and (min-width: 64em) {
    #services-reverse {
      .title-banner {
        .cs-title {
        }
      }
      .container {
        .left-right {
          flex-direction: row;
          .left {
            order: 1;
            width: 45%;
            // min-width: 500px;
            margin: auto;
            .content {
              width: 80%;
              margin: auto;
              .cs-title {
              }
              .cs-text {
              }
            }
          }
          .right {
            order: 0;
            width: 55%;
          }
        }
      }
    }
  }

  /* PAGE-SPECIFIC STYLES FOR THE HOME PAGE */

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #sbs {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~"min(2.31vw, .7em)";
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;
        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);
        top: 0;
        left: 0;
      }

      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        right: 0;
        bottom: 0;
      }

      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);

        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }

      .cs-button-solid {
        margin-top: (32/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~"min(1.2vw, 1em)";
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  // /* Dark Mode */
  // @media only screen and (min-width: 0em) {
  //   body.dark-mode {
  //     #sbs {
  //       .cs-left {
  //         &:before,
  //         &:after {
  //           background: var(--accent);
  //         }
  //       }

  //       .cs-picture2 {
  //         background-color: var(--dark);
  //         /* 6px - 12px */
  //         border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
  //       }

  //       .cs-topper {
  //         color: var(--primaryLight);
  //       }

  //       .cs-title,
  //       .cs-text,
  //       .cs-h3,
  //       .cs-flex-p,
  //       .cs-name {
  //         color: var(--bodyTextColorWhite);
  //       }

  //       .cs-flex-group {
  //         background-color: var(--accent);
  //       }

  //       .cs-job {
  //         color: var(--bodyTextColorWhite);
  //         opacity: 0.8;
  //       }

  //       .cs-quote-icon {
  //         opacity: 0.2;
  //       }
  //     }
  //   }
  // }

  /*-- -------------------------- -->
<---          Reviews           -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #reviews {
      /* Centers the button */
      text-align: center;
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1104/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: center;
        margin-bottom: (16/16rem);
      }

      .cs-title {
        text-align: center;
        max-width: (700/16rem);
      }

      .cs-text {
        text-align: center;
        max-width: (650/16rem);
        /* 88px - 104px */
        margin-bottom: clamp(5.5em, 10.2vw, 6.5em);
      }

      .cs-card-group {
        /* 48px - 64px */
        margin: 0 auto clamp(3rem, 5vw, 4rem);
        padding: 0;
      }

      .cs-item {
        text-align: left;
        list-style: none;
        width: 100%;
        max-width: (542/16rem);
        margin: 0 auto (64/16rem);
        /* Prevents padding from affecting height & width */
        box-sizing: border-box;
        /* Padding L & R - 16px - 32px */
        padding: (60/16rem) clamp(1rem, 3.2vw, 2rem) 0;
        /* 32px - 40px */
        padding-bottom: clamp(2rem, 5.4vw, 2.5rem);
        background: #fff;
        box-shadow: 0px 20px 39px 0px rgba(0, 0, 0, 0.05);
        border-radius: (4/16rem);
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        position: relative;

        &:last-of-type {
          margin-bottom: 0;
        }
      }

      .cs-item-img {
        width: (80/16rem);
        height: (80/16rem);
        position: absolute;
        top: (-40/16rem);
      }

      .cs-item-p {
        font-size: (16/16rem);
        line-height: 1.5em;
        margin: 0 0 (20/16rem);
        padding-bottom: (20/16rem);
        color: var(--bodyTextColor);
        border-bottom: 1px solid #e8e9ec;
      }

      .cs-reviewer {
        font-size: (16/16rem);
        font-weight: 700;
        line-height: 1.5em;
        width: 40%;
        margin: 0 auto 0 0;
        color: var(--headerColor);
        display: block;
      }

      .cs-desc {
        font-size: (14/16rem);
        font-weight: 400;
        color: var(#353535);
        display: block;
      }

      .cs-item-stars {
        width: (96/16rem);
        height: (16/16rem);
      }
    }
  }

  /* Tablet - 768px */
  @media only screen and (min-width: 48em) {
    #reviews {
      .cs-card-group {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: (16/16rem);
      }

      .cs-item {
        /* reset margin so it won't interfere with flexbox */
        margin: 0;
      }
    }
  }

  // /* Dark Mode */
  // @media only screen and (min-width: 0em) {
  //   body.dark-mode {
  //     #reviews {
  //       .cs-title,
  //       .cs-text,
  //       .cs-item-p,
  //       .cs-reviewer {
  //         color: var(--bodyTextColorWhite);
  //       }

  //       .cs-item {
  //         background: var(--medium);
  //       }

  //       .cs-desc {
  //         color: var(--primaryLight);
  //       }
  //     }
  //   }
  // }

  #reviews-section {
    background-color: #fff;
    padding: 4rem 0;

    @media (min-width: 768px) {
      padding: 5rem 0;
    }

    .reviews-container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* ---------- HEADER ---------- */
    .reviews-header {
      text-align: center;
      margin-bottom: 3rem;

      .reviews-subtitle {
        display: block;
        text-transform: uppercase;
        font-weight: 700;
        font-size: 0.875rem;
        letter-spacing: 0.05em;
        color: var(--primary);
        margin-bottom: 0.5rem;
      }

      .reviews-title {
        font-size: 2rem;
        color: #111827;
        font-family: serif;

        @media (min-width: 768px) {
          font-size: 2.25rem;
        }
      }
    }

    /* ---------- DESKTOP GRID ---------- */
    .reviews-grid {
      display: none;

      @media (min-width: 1024px) {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
      }

      .review-card {
        background-color: #f9fafb;
        border-radius: 1rem;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        height: 100%;

        .quote-icon {
          margin-bottom: 1.5rem;

          svg {
            width: 2.5rem;
            height: 2.5rem;
            fill: var(--secondary);
            opacity: 0.5;
          }
        }

        .review-text {
          color: #374151;
          line-height: 1.6;
          flex-grow: 1;
          margin-bottom: 1.5rem;
        }

        .review-name {
          font-weight: 600;
          color: #111827;
        }
      }
    }

    /* ---------- MOBILE SLIDER ---------- */
    .reviews-slider-wrapper {
      display: block;

      @media (min-width: 1024px) {
        display: none;
      }

      .review-card {
        background-color: #f9fafb;
        border-radius: 1rem;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .quote-icon svg {
        width: 2.5rem;
        height: 2.5rem;
        fill: var(--secondary);
        opacity: 0.5;
        margin-bottom: 1.5rem;
      }

      .review-text {
        color: #374151;
        line-height: 1.6;
        flex-grow: 1;
        margin-bottom: 1.5rem;
      }

      .review-name {
        font-weight: 600;
        color: #111827;
      }

      /* --- Slider Controls --- */
      .slider-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1.5rem;
        margin-top: 2rem;

        /* --- Navigation Buttons --- */
        .blaze-prev,
        .blaze-next {
          background-color: var(--secondary);
          border: none;
          border-radius: 50%;
          width: 48px;
          height: 48px;
          display: flex;
          justify-content: center;
          align-items: center;
          cursor: pointer;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
          transition: all 0.25s ease;

          img {
            width: 20px;
            height: 20px;
            filter: brightness(0) invert(1);
          }

          &:hover {
            background-color: var(--primary);
            transform: scale(1.1);
          }

          &:active {
            transform: scale(0.95);
          }
        }

        /* --- Pagination Dots --- */
        .blaze-pagination {
          display: flex;
          gap: 0.6rem;

          button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #d1d5db;
            border: none;
            transition: all 0.2s ease;

            &.active {
              background-color: var(--primary);
            }

            &:hover {
              background-color: var(--secondary);
              transform: scale(1.15);
            }
          }
        }
      }
    }

    /* ---------- CTA BUTTON ---------- */
    .reviews-cta {
      text-align: center;
      margin-top: 3rem;

      a {
        display: inline-block;
        background-color: var(--primary);
        color: #fff;
        padding: 0.75rem 2rem;
        border-radius: 0.5rem;
        font-weight: 600;
        text-decoration: none;
        transition: background-color 0.3s ease;

        &:hover {
          background-color: #000;
        }
      }
    }
  }
</style>

<script>
  import BlazeSlider from "blaze-slider";
  import "blaze-slider/dist/blaze.css";

  document.querySelectorAll(".blaze-slider").forEach((el) => {
    new BlazeSlider(el as HTMLElement, {
      all: {
        enableAutoplay: true,
        autoplayInterval: 2000,
        transitionDuration: 300,
        slidesToShow: 3,
      },
      "(max-width: 900px)": {
        slidesToShow: 2,
      },
      "(max-width: 650px)": {
        slidesToShow: 1,
      },
    });
  });
</script>
