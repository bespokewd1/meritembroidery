---
import BaseLayout from "@layouts/BaseLayout.astro";
import CTA from "@components/CTA.astro";
import Landing from "@components/Landing.astro";
import FAQ from "@components/FAQ.astro";
import "../styles/global.css";
import client from '@data/client.json';

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import landingImage from "@assets/images/landing.jpg" // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import { getImage } from "astro:assets";
import MapPinFilled from '@components/MapPinFilled.astro';
const optimizedImage = await getImage({src: landingImage, format: 'avif'})


const phoneDisplay = '+1 780-729-0978';
const phoneHref = 'tel:+17807290978';
const email = 'imassageclinique@gmail.com';
const emailHref = `mailto:${email}`;

const clinicName = client.name || 'iMassage Therapeutic Clinique';
const addressOne =
  client.address.lineOne?.trim() ||
  '10625 40 Ave NW';
  const addressTwo =
  client.address.lineTwo?.trim() ||
  '10625 40 Ave NW';
const phoneNumber =
  client.phoneForTel?.trim() ||
  '10625 40 Ave NW';
  const emailAddress =
  client.email?.trim() ||
  '10625 40 Ave NW';
const mapHref =
  client.address.mapLink ||
  'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2374.612254114085!2d-113.51028162603954!3d53.47538949128358!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x53a01f3c749cbe89%3A0x6a72e2d6f72946d0!2s10625%2040%20Ave%20NW!5e0!3m2!1sen!2sph!4v1759943839747!5m2!1sen!2sph';

const hours = [
  { label: 'Mon – Fri', value: '8:00 am – 4:30 pm' }
];
---

<BaseLayout
  title="Contact"
  description="High-quality in-house embroidery, screen printing, and custom apparel decoration in Edmonton. Serving businesses across Alberta and North America with fast, reliable, and professional service."
  preloadedImage = {optimizedImage}
>
  <!-- ============================================ -->
  <!--                    LANDING                   -->
  <!-- ============================================ -->

  <!-- <Landing 
    title="About Us"
    image={optimizedImage}
  /> -->

  <!-- ============================================ -->
  <!--                     About                    -->
  <!-- ============================================ -->
    <section class="text-center" style="padding-top: 8rem;padding-bottom: 2rem;">
      <h2 style="color: var(--primary);" class="cs-topper">Crafting Timeless Threads of Excellence</h2>
      <h2 class="cs-title" >Contact Us</h2>
    </section>
    <section >
    <div class="mx-auto max-w-3xl xl:max-w-6xl px-6 py-16 md:py-20 md:px-10" style="margin: auto;">
      <div class="mt-8 flex flex-col gap-6">
        <!-- map -->
        <div class="">
            <div class="overflow-hidden rounded-lg ring-1 ring-black/10">
              <iframe
                src={`${mapHref}&output=embed`}
                style="border:0"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                class="h-[420px] w-full"></iframe>
            </div>
          </div>
        </div>
        <section class="relative flex flex-col justify-around items-start md:flex-row" style="margin-top: 4rem;">
      <div class="">
          <div class="space-y-6">
            <h1 class="text-2xl" style="padding-bottom: .5rem;">CONTACT INFORMATION</h1>
            <div>
              <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700" 
                style="padding-bottom: .5rem;"
              >
                Address
              </h3>
              <div class="pl-2 mt-2 text-gray-900" style="padding-bottom: .5rem;">
                <p class="font-medium inline-flex items-center gap-2">
                  <span>
                    <MapPinFilled />
                  </span>
                  {clinicName}
                </p>
                <a
                  href={mapHref}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="mt-1 block  underline-offset-2"
                >
                  {addressOne}
                </a>
                <a
                  href={mapHref}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="mt-1 block  underline-offset-2"
                >
                  {addressTwo}
                </a>
              </div>
            </div>
            <div>
              <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700 " 
              >
                Phone
              </h3>
              <a
                href={`tel:${phoneNumber}`}
                class="mt-1 block  underline-offset-2"
              >
                {phoneNumber}
              </a>
              <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700"
              >
                Fax
              </h3>
              <a
                href={`tel:(780) 414-6110`}
                class="mt-1 block  underline-offset-2"
              >
                (780) 414-6110
              </a>
               <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700" 
              >
                Email
              </h3>
              <a
                href={`mailto:${emailAddress}`}
                class="mt-1 block  underline-offset-2" style="padding-bottom: .5rem;"
              >
                {emailAddress}
              </a>
            </div>
            <div>
              <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700"
              >
                Hours of Operation
              </h3>
              <ul class="mt-2 space-y-1 text-gray-900" style="padding-bottom: .5rem;">
                {
                  hours.map((h) => (
                    <li class="flex items-center gap-6">
                      <p class="font-semibold min-w-16">{h.label}:</p>
                      <p class="">{h.value}</p>
                    </li>
                  ))
                }
              </ul>
            </div>
            <div>
              <h3
                class="text-sm font-semibold uppercase tracking-wide text-black-700"
              >
                EMPLOYMENT OPPORTUNITIES
              </h3>
              <h4>Please submit your resumes to:</h4>
              <a
                href={`mailto:jobs@meritembroidery.com`}
                class="mt-1 block  underline-offset-2"
              >
                jobs@meritembroidery.com
              </a>
            </div>
          </div>
        </div>
        <!-- Right: form -->
        <div class="md:col-span-2 lg:col-span-1">
          <form
            class="grid grid-cols-1 gap-4"
            onsubmit="event.preventDefault();"
          >
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <div>
                <label class="mb-1 block text-sm text-black-700"
                  >First Name</label
                >
                <input
                  type="text"
                  class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[var(--primary)]"
                  placeholder="First name"
                />
              </div>
              <div>
                <label class="mb-1 block text-sm text-black-700">Last Name</label
                >
                <input
                  type="text"
                  class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[var(--primary)]"
                  placeholder="Last name"
                />
              </div>
            </div>

            <div>
              <label class="mb-1 block text-sm text-black-700">Email *</label>
              <input
                type="email"
                required
                class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[var(--primary)]"
                placeholder="you@example.com"
              />
            </div>

            <div>
              <label class="mb-1 block text-sm text-black-700">Message</label>
              <textarea
                rows="5"
                class="w-full rounded border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-[var(--primary)]"
                placeholder="How can we help?"></textarea>
            </div>

            <button
              type="submit"
              class="inline-flex w-full items-center justify-center rounded bg-[var(--primary)] px-6 py-3 text-sm font-semibold text-white transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500"
              style="padding: 8px 0 8px 0;"
            >
              Send
            </button>
          </form>
        </div>
        
      </div>
    </div>
  </section>
      </div>
</section>
  

  

  

<!-- ============================================ -->
<!--                 SOME OF OUR WORKS            -->
<!-- ============================================ -->



  <CTA />
</BaseLayout>

<style lang="less">
  /* PAGE-SPECIFIC STYLES FOR THE ABOUT PAGE */


    /*-- -------------------------- -->
<---          About          -->
<--- -------------------------- -*/

  @media only screen and (min-width: 0em) {
    #about{
      margin-bottom: 32px;
      .title-banner{
        padding: 32px 16px;
        background: var(--primary);
          .cs-title{
            color: #fff;
            text-align: center;
            margin: 0;
          }
        }
      .container{
        width: 100%;
        .left-right{
          display: flex;
          flex-direction: column;
          gap: 32px;
          .left{
            .content{
              width: 96%;
             margin: auto; 

             .cs-title{
                color: var(--primary);
                font-size: 28px;
                font-weight: 700;
                margin: 16px 0;
              }
              .cs-text{
                margin-bottom: 32px;
              }
              ul{
                margin-bottom: 32px;
              }
            }
            
          }
          .right{
            
          }
        }
      }
    }
  }

  @media only screen and (min-width: 64em) {
        #about{
      .title-banner{
        
          .cs-title{
            
          }
        }
      .container{
        
        .left-right{
          flex-direction: row;
          .left{
            width: 45%;
            // min-width: 500px;
            margin: auto;
            .content{
              width: 80%;
              margin: auto;
             .cs-title{
                
              }
              .cs-text{
                
              }
            }
            
          }
          .right{
            width: 55%;
          }
        }
      }
    }
  }

  /*-- -------------------------- -->
<---       Side By Side         -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0em) {
    #sbs {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        row-gap: (40/16rem);
      }

      .cs-left {
        /* scaling the font size with the view width */
        font-size: ~"min(2.31vw, .7em)";
        /* using ems so we can use font size to scale the whole section */
        width: (631/16em);
        height: (636/16em);
        position: relative;
      }

      .cs-picture {
        border-radius: (24/16em);
        display: block;
        position: absolute;
        /* clips img tag corners */
        overflow: hidden;
        img {
          width: 100%;
          height: 100%;
          /* makes image act like a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-picture1 {
        width: (522/16em);
        height: (581/16em);
        top: 0;
        left: 0;
      }

      .cs-picture2 {
        width: (414/16em);
        height: (400/16em);
        background-color: #fff;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 40px;
        /* 6px - 12px */
        border: clamp(0.375em, 1.5vw, 0.75em) solid #fff;
        right: 0;
        bottom: 0;
      }

      .cs-right {
        max-width: (542/16rem);
        margin: auto;
      }

      .cs-topper {
        text-align: left;
        margin-bottom: (4/16rem);
      }

      .cs-title {
        text-align: left;
        max-width: (800/16rem);
      }

      .cs-text {
        text-align: left;
        max-width: (750/16rem);
        margin-bottom: (16/16rem);
        color: var(--bodyTextColor);

        &:last-of-type {
          margin-bottom: (32/16rem);
        }
      }

      .cs-flex-group {
        /* 16px - 32px */
        padding: clamp(1rem, 3vw, 2rem);
        background-color: #f7f7f7;
        border-radius: (16/16rem);
        position: relative;
      }

      .cs-flex-p {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        line-height: 1.5em;
        margin: 0 0 (16/16rem);
        color: #353535;
      }

      .cs-name {
        font-size: (16/16rem);
        font-weight: bold;
        line-height: 1.2em;
        text-transform: uppercase;
        margin: 0 0 (4/16rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-job {
        font-size: (14/16rem);
        line-height: 1.5em;
        color: #353535;
        display: block;
      }

      .cs-quote-icon {
        /* 60px - 136px */
        width: clamp(3.75rem, 10vw, 8.5rem);
        height: auto;
        position: absolute;
        /* 16px - 32px */
        right: clamp(1rem, 4vw, 2rem);
        bottom: (0/16rem);
      }

      .cs-button-solid {
        margin-top: (32/16rem);
      }
    }
  }

  /* Desktop - 1024px */
  @media only screen and (min-width: 64em) {
    #sbs {
      .cs-container {
        flex-flow: row;
        justify-content: space-between;
        gap: (52/16rem);
      }

      .cs-left {
        font-size: ~"min(1.2vw, 1em)";
        flex: none;
      }

      .cs-right {
        margin: 0;
      }
    }
  }

  // /* Dark Mode */
  // @media only screen and (min-width: 0em) {
  //   body.dark-mode {
  //     #sbs {
  //       .cs-left {
  //         &:before,
  //         &:after {
  //           background: var(--accent);
  //         }
  //       }

  //       .cs-picture2 {
  //         background-color: var(--dark);
  //         /* 6px - 12px */
  //         border: clamp(0.375em, 1.5vw, 0.75em) solid var(--dark);
  //       }

  //       .cs-topper {
  //         color: var(--primaryLight);
  //       }

  //       .cs-title,
  //       .cs-text,
  //       .cs-h3,
  //       .cs-flex-p,
  //       .cs-name {
  //         color: var(--bodyTextColorWhite);
  //       }

  //       .cs-flex-group {
  //         background-color: var(--accent);
  //       }

  //       .cs-job {
  //         color: var(--bodyTextColorWhite);
  //         opacity: 0.8;
  //       }

  //       .cs-quote-icon {
  //         opacity: 0.2;
  //       }
  //     }
  //   }
  // }

  /*-- -------------------------- -->
<---          Services          -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #foundation {
        padding: var(--sectionPadding);

        .cs-container {
            max-width: (1280/16rem);
            width: 100%;
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
            /* set text align to left if content needs to be left aligned */
            text-align: center;
        }

        .cs-card-group {
            /* changes to 1280px at desktop */
            max-width: (900/16rem);
            width: 100%;
            margin: 0;
            padding: 0;
            display: grid;
            justify-content: center;
            gap: (16/16rem);
        }

        .cs-item {
            list-style: none;
            max-width: (368/16rem);
            width: 100%;
            margin: 0;
            box-sizing: border-box;
            padding: (16/16rem);
            border: 1px solid #e8e8e8;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: left;
        }

        .cs-picture {
            width: (80/16rem);
            height: (80/16rem);
            margin-bottom: (20/16rem);
            box-sizing: border-box;
            /* prevents border from affecting height and width */
            background-color: #f7f7f7;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            /* prevents flexbox from squishing it */
            flex: none;
        }

        .cs-icon {
            width: (30/16rem);
            height: auto;
            display: block;
        }

        .cs-h3 {
            font-size: (20/16rem);
            line-height: 1.5em;
            margin: 0;
            margin-bottom: (8/16rem);
            color: var(--headerColor);
            text-align: center;
        }

        .cs-item-text {
            /* 14px - 16px */
            font-size: clamp(0.875rem, 1.5vw, 1rem);
            line-height: 1.5em;
            margin: 0;
            color: var(--bodyTextColor);
            text-align: center;
        }

        .cs-button-solid {
            font-size: (16/16rem);
            /* 46px - 56px */
            line-height: clamp(2.875rem, 5.5vw, 3.5rem);
            font-weight: 700;
            min-width: (150/16rem);
            margin: 0;
            /* prevents padding from adding to the width */
            box-sizing: border-box;
            padding: 0 (24/16rem);
            color: #fff;
            background-color: var(--primary);
            text-decoration: none;
            display: inline-block;
            position: relative;
            z-index: 1;
            text-align: center;

            &:before {
                content: "";
                width: 0%;
                height: 100%;
                background: #000;
                opacity: 1;
                border-radius: (4/16rem);
                position: absolute;
                top: 0;
                left: 0;
                z-index: -1;
                transition: width 0.3s;
            }

            &:hover {
                &:before {
                    width: 100%;
                }
            }
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 48rem) {
    #foundation {
        .cs-card-group {
            grid-template-columns: repeat(2, 1fr);
            gap: (20/16rem);
        }

        .cs-item {
            margin: 0;
        }
    }
}

/* Large Desktop - 1300px */
@media only screen and (min-width: 81.25rem) {
    #foundation {
        .cs-card-group {
            max-width: (1280/16rem);
        }

        .cs-item {
            max-width: none;
            padding: (32/16rem) (24/16rem);
        }
    }
}

// /* Dark Mode */
// @media only screen and (min-width: 0rem) {
//     body.dark-mode {
//         #foundation {
//             .cs-topper {
//                 color: var(--primaryLight);
//             }

//             .cs-item {
//                 background-color: var(--medium);
//             }

//             .cs-text,
//             .cs-item-text {
//                 opacity: 0.8;
//             }

//             .cs-picture {
//                 background-color: var(--accent);
//             }

//             .cs-icon {
//                 /* turns it white */
//                 filter: grayscale(1) brightness(1000%);
//             }

//             .cs-title,
//             .cs-text,
//             .cs-h3,
//             .cs-item-text {
//                 color: var(--bodyTextColorWhite);
//             }
//         }
//     }
// }

                                
</style>
